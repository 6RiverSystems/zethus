(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,n){},212:function(e,t,n){"use strict";n.r(t);var a=n(19),i=n.n(a),r=n(0),o=n.n(r),c=n(12),s=n(8),l=n(3),u=n(4),p=n(6),d=n(2),m=n(9),b=n(5),h=n(7),v=n.n(h),f=n(74),g=n.n(f),O=n(38),y=n.n(O),E=n(52),j=n.n(E),z=n(16),k=n.n(z),x=n(13),V=n(15),C=n(1),T={INITIAL:"Idle. Not Connected",CONNECTING:"Connecting",CONNECTED:"Connected successfully",CONNECTION_ERROR:"Error in connection"},w="https://github.com/rapyuta-robotics/zethus/wiki/",S=[C.T,C.U],N=function(e){return v.a.filter(e,function(e){return v.a.includes(S,e.messageType)})},I=[{type:C.ab,icon:"/image/icons/icon_image.svg",messageTypes:[C.H],description:'Creates a container to visualize the image data represented by a sensor_msgs/Image topic.\n    ![](/image/viz/viz-image.png "")',docsLink:"".concat(w,"Image")},{type:C.bb,icon:"/image/icons/icon_laser_scan.svg",messageTypes:[C.I],description:'Adds a visualization represented by a sensor_msgs/LaserScan topic to the scene.\n    ![](/image/viz/viz-laserscan.png "")',docsLink:"".concat(w,"Laser-Scan")},{type:C.cb,icon:"/image/icons/icon_map.svg",messageTypes:[C.L],description:'Adds a visualization represented by a nav_msgs/OccupancyGrid topic to the scene.\n    ![](/image/viz/viz-map.png "")',docsLink:"".concat(w,"Map")},{type:C.db,icon:"/image/icons/icon_marker.svg",messageTypes:[C.J],description:'Adds a visualization represented by a visualization_msgs/Marker or visualization_msgs/MarkerArray topic to the scene.\n    ![](/image/viz/viz-marker.png "")',docsLink:"".concat(w,"Marker")},{type:C.eb,icon:"/image/icons/icon_marker_array.svg",messageTypes:[C.K],description:'Adds a visualization represented by a visualization_msgs/Marker or visualization_msgs/MarkerArray topic to the scene.\n    ![](/image/viz/viz-markerarray.png "")',docsLink:"".concat(w,"Marker-Array")},{type:C.fb,icon:"/image/icons/icon_odometry.svg",messageTypes:[C.M],description:'Adds a visualization represented by a nav_msgs/Odometry topic to the scene.\n    ![](/image/viz/viz-odometry.png "")',docsLink:"".concat(w,"Odometry"),isDisplay:!1},{type:C.gb,icon:"/image/icons/icon_path.svg",messageTypes:[C.N],description:'Adds a visualization represented by a nav_msgs/Path topic to the scene.\n    ![](/image/viz/viz-path.png "")',docsLink:"".concat(w,"Path")},{type:C.hb,icon:"/image/icons/icon_pointcloud_2.svg",messageTypes:[C.O],description:'Adds a visualization represented by a sensor_msgs/PointCloud2 topic to the scene.\n    ![](/image/viz/viz-pointcloud.png "")',docsLink:"".concat(w,"Point-Cloud-2")},{type:C.jb,icon:"/image/icons/icon_pose.svg",messageTypes:[C.R],description:'Adds a visualization represented by a geometry_msgs/PoseStamped topic to the scene.\n    ![](/image/viz/viz-pose.png "")',docsLink:"".concat(w,"Pose")},{type:C.kb,icon:"/image/icons/icon_pose_array.svg",messageTypes:[C.Q],description:'Adds a visualization represented by a geometry_msgs/PoseArray topic to the scene. An array of pose is added to the scene based on the Shape type selected.\n    ![](/image/viz/viz-posearray.png "")',docsLink:"".concat(w,"Pose-Array")},{type:C.lb,icon:"/image/icons/icon_robot_model.svg",messageTypes:[C.S],description:'Adds a robot model to the scene from a ros parameter.\n    ![](/image/viz/viz-robotmodel.png "")',docsLink:"".concat(w,"Robot-Model")},{type:C.mb,icon:"/image/icons/icon_tf.svg",messageTypes:S,description:'Adds a visualization represented by a tf/tfMessage and tf2_msgs/TFMessage topic to the scene.\n    ![](/image/viz/viz-tf.png "")',docsLink:"".concat(w,"Tf")}],R={panels:{sidebar:{display:!0},tools:{display:!1},info:{display:!1}},ros:{endpoint:"ws://localhost:9090"},visualizations:[],globalOptions:{display:!0,backgroundColor:{display:!0,value:C.z.backgroundColor},fixedFrame:{display:!0,value:"world"},grid:{display:!0,size:C.z.gridSize,divisions:C.z.gridDivisions,color:C.z.gridColor,centerlineColor:C.z.gridCenterlineColor}},tools:{mode:"controls",controls:{display:!1,enabled:!0},measure:{display:!1},custom:[{name:"Nav goal",type:"publishPose",topic:"/navgoal"},{name:"Nav goal",type:"publishPoseWithCovariance",topic:"initialpose"}]}};function P(e){var t=this.props,n=t.options.key,a=t.updateVizOptions,i=e.target,r=i.checked,o=i.dataset.id,c=i.value;a(n,Object(V.a)({},o,v.a.has(e.target,"checked")?r:c))}var L=n(10),A=n(11);function M(){var e=Object(L.a)(["\n  svg {\n    height: 40px;\n    display: block;\n  }\n"]);return M=function(){return e},e}function _(){var e=Object(L.a)(["\n  background-color: #fff;\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n"]);return _=function(){return e},e}function D(){var e=Object(L.a)(["\n          background-color: #000000;\n        "]);return D=function(){return e},e}function F(){var e=Object(L.a)(["\n          background-color: #ff3e3c;\n        "]);return F=function(){return e},e}function B(){var e=Object(L.a)(["\n          background-color: #f9c351;\n          animation: "," normal 1s infinite ease-in-out;\n        "]);return B=function(){return e},e}function G(){var e=Object(L.a)(["\n          background-color: #3e991c;\n        "]);return G=function(){return e},e}function H(){var e=Object(L.a)(["\n  width: 8px;\n  height: 8px;\n  border-radius: 4px;\n  margin: 0 10px -2px 0;\n  ","\n"]);return H=function(){return e},e}function U(){var e=Object(L.a)(["\n  from, to {\n    opacity: 0;\n  }\n\n  50% {\n    opacity: 1;\n  }\n"]);return U=function(){return e},e}function W(){var e=Object(L.a)(["\n  padding: 0 20px;\n"]);return W=function(){return e},e}function Z(){var e=Object(L.a)(["\n  display: flex;\n  min-height: 30px;\n  align-items: center;\n  padding: 3px 0;\n  font-size: ",";\n\n  ",", "," {\n    height: 26px;\n  }\n"]);return Z=function(){return e},e}function J(){var e=Object(L.a)(["\n  width: 50%;\n"]);return J=function(){return e},e}function X(){var e=Object(L.a)(["\n  ","\n"]);return X=function(){return e},e}function q(){var e=Object(L.a)(["\n  ","\n"]);return q=function(){return e},e}function K(){var e=Object(L.a)(["\n      border: 1px solid ",";\n    "]);return K=function(){return e},e}function Q(){var e=Object(L.a)(["\n  font-size: 14px;\n  color: ",";\n  display: block;\n  margin: 0 0 5px;\n"]);return Q=function(){return e},e}function Y(){var e=Object(L.a)(["\n  padding-top: 11px;\n  padding-bottom: 11px;\n"]);return Y=function(){return e},e}function $(){var e=Object(L.a)(["\n  border: 0;\n  margin: 0;\n  padding: 6px 20px;\n  border-radius: 4px;\n  color: white;\n  background-color: ",";\n  font-size: 16px;\n  &[disabled] {\n    background-color: ",";\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(L.a)(["\n      border: 1px solid ",";\n      border-bottom: 1px solid #fff;\n    "]);return ee=function(){return e},e}function te(){var e=Object(L.a)(["\n  margin: 0 10px -1px;\n  background-color: transparent;\n  border: 1px solid ",";\n  border-bottom: 1px solid ",";\n  border-radius: 4px 4px 0 0;\n  color: inherit;\n  padding: 5px 10px 10px;\n  ","\n"]);return te=function(){return e},e}function ne(){var e=Object(L.a)(["\n  display: flex;\n  border-bottom: 1px solid ",";\n  flex-shrink: 0;\n"]);return ne=function(){return e},e}function ae(){var e=Object(L.a)(["\n  padding: 15px 20px;\n"]);return ae=function(){return e},e}function ie(){var e=Object(L.a)(["\n  width: 0;\n  flex-grow: 1;\n  flex-shrink: 1;\n"]);return ie=function(){return e},e}function re(){var e=Object(L.a)(["\n  display: flex;\n  background-color: #000;\n  height: 100vh;\n  overflow-y: hidden;\n  width: 100%;\n"]);return re=function(){return e},e}function oe(){var e=Object(L.a)(["\n  flex-grow: 1;\n"]);return oe=function(){return e},e}function ce(){var e=Object(L.a)(["\n  width: 10px;\n"]);return ce=function(){return e},e}function se(){var e=Object(L.a)(["\n  display: flex;\n"]);return se=function(){return e},e}function le(){var e=Object(L.a)(["\n  width: 100%;\n  height: 0;\n  border: 0;\n  margin: 0;\n  border-bottom: 1px solid ",";\n"]);return le=function(){return e},e}function ue(){var e=Object(L.a)(["\n  color: ",";\n"]);return ue=function(){return e},e}function pe(){var e=Object(L.a)(["\n  line-height: 1.5;\n"]);return pe=function(){return e},e}function de(){var e=Object(L.a)(["\n  cursor: pointer;\n  font-size: inherit;\n  font-family: inherit;\n  outline: 0;\n\n  &:active {\n    outline: 0;\n  }\n"]);return de=function(){return e},e}var me=A.b.button(de()),be=A.b.p(pe()),he=A.b.a(ue(),"#dc1d30"),ve=A.b.hr(le(),"#dddddd"),fe=A.b.div(se()),ge=A.b.div(ce()),Oe=A.b.div(oe()),ye=A.b.div(re()),Ee=A.b.div(ie()),je=A.b.div(ae()),ze=A.b.div(ne(),"#dddddd"),ke=Object(A.b)(me)(te(),"#dddddd","#dddddd",function(e){return e.selected&&Object(A.a)(ee(),"#dddddd")}),xe=Object(A.b)(me)($(),"#dc1d30","#dddddd"),Ve=A.b.div(Y()),Ce=A.b.label(Q(),"#666666"),Te="\n  height: 32px;\n  width: 100%;\n  flex-grow: 1;\n  flex-shrink: 1;\n  background-color: ".concat("#f6f6f6",";\n  border: 1px solid ").concat("#f6f6f6",";\n  color: ").concat("#444444",";\n  border-radius: 4px;\n  padding: 0 8px;\n  font-size: inherit;\n  font-family: inherit;\n  outline: 0;\n\n  &:active {\n    outline: 0;\n  }\n  :active,\n  :focus {\n    outline: 0;\n    border: 1px solid ").concat("#013c89",";\n  }\n  ").concat(function(e){return e.error&&Object(A.a)(K(),"#dc1d30")},"\n  [disabled] {\n    cursor: not-allowed;\n  }\n"),we=A.b.input(q(),Te),Se=A.b.select(X(),Te),Ne=A.b.div(J()),Ie=A.b.div(Z(),"0.7rem",we,Se),Re=A.b.div(W()),Pe=Object(A.c)(U()),Le=A.b.span(H(),function(e){switch(e.status){case T.CONNECTED:return Object(A.a)(G());case T.CONNECTING:return Object(A.a)(B(),Pe);case T.CONNECTION_ERROR:return Object(A.a)(F());default:return Object(A.a)(D())}}),Ae=A.b.div(_()),Me=Object(A.b)(je)(M());function _e(){var e=Object(L.a)(["\n  padding-left: 30px;\n"]);return _e=function(){return e},e}function De(){var e=Object(L.a)(["\n  text-align: left;\n  width: 100%;\n  font-size: 16px;\n  border: 0;\n  background: transparent;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n\n  .reactSelect {\n    color: ",";\n  }\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n    .reactSelect {\n      color: ",";\n    }\n  }\n\n  ","\n"]);return De=function(){return e},e}function Fe(){var e=Object(L.a)(["\n  display: flex;\n  flex-grow: 1;\n  flex-shrink: 1;\n  height: 0;\n  flex-direction: column;\n"]);return Fe=function(){return e},e}function Be(){var e=Object(L.a)(["\n  display: flex;\n  align-items: center;\n  text-transform: uppercase;\n  margin-bottom: 5px;\n"]);return Be=function(){return e},e}function Ge(){var e=Object(L.a)(["\n  border-left: 1px solid ",";\n  padding: 0 0 0 20px;\n  flex: 1 0 50%;\n  overflow-y: auto;\n\n  h4 {\n    margin-top: 10px;\n    margin-bottom: 8px;\n    font-size: 22px;\n  }\n\n  img {\n    max-width: 100%;\n  }\n\n  & > div {\n    margin-bottom: 8px;\n  }\n"]);return Ge=function(){return e},e}function He(){var e=Object(L.a)(["\n  flex: 1 0 50%;\n  overflow-y: auto;\n"]);return He=function(){return e},e}function Ue(){var e=Object(L.a)(["\n  display: flex;\n  flex-grow: 1;\n  overflow: hidden;\n"]);return Ue=function(){return e},e}function We(){var e=Object(L.a)(["\n  padding: 10px;\n  opacity: 0.4;\n  cursor: not-allowed;\n"]);return We=function(){return e},e}function Ze(){var e=Object(L.a)(["\n  padding-left: 30px;\n  font-style: italic;\n"]);return Ze=function(){return e},e}function Je(){var e=Object(L.a)(["\n  display: flex;\n  flex-shrink: 0;\n  padding: 10px 0 0;\n\n  button {\n    margin-left: 10px;\n  }\n"]);return Je=function(){return e},e}function Xe(){var e=Object(L.a)(["\n  margin-bottom: 6px;\n  margin-top: 0;\n"]);return Xe=function(){return e},e}function qe(){var e=Object(L.a)(["\n  width: 1000px;\n  margin: 100px auto;\n  height: 600px;\n  background-color: #ffffff;\n  box-shadow: 0 0 40px rgba(0, 0, 0, 0.08);\n  border-radius: 8px;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n"]);return qe=function(){return e},e}function Ke(){var e=Object(L.a)(["\n  position: absolute;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(255, 255, 255, 0.9);\n"]);return Ke=function(){return e},e}var Qe=A.b.div(Ke()),Ye=A.b.div(qe()),$e=A.b.h2(Xe()),et=A.b.div(Je()),tt=Object(A.b)(be)(Ze()),nt=Object(A.b)(fe)(We()),at=A.b.div(Ue()),it=A.b.div(He()),rt=A.b.div(Ge(),"#dddddd"),ot=A.b.h4(Be()),ct=A.b.form(Fe()),st=Object(A.b)(me)(De(),"#444444","#dc1d30","#f6f6f6","#444444",function(e){return e.selected&&"\n    color: ".concat("#dc1d30",";\n    background-color: ").concat("#f6f6f6",";\n  ")}),lt=Object(A.b)(st)(_e()),ut=n(82);function pt(){var e=Object(L.a)(["\n      transform: rotate(-90deg);\n    "]);return pt=function(){return e},e}function dt(){var e=Object(L.a)(["\n  background-color: transparent;\n  border: 0;\n  padding: 0;\n  margin: 0 3px 0 0;\n  width: 20px;\n  height: 20px;\n  img {\n    width: 14px;\n  }\n  ","\n"]);return dt=function(){return e},e}function mt(){var e=Object(L.a)(["\n  display: flex;\n  margin-top: 8px;\n\n  button {\n    background: ",";\n    border: 0;\n    border-radius: 4px;\n    color: ",";\n    padding: 5px 10px;\n    font-size: 0.6rem;\n    &:hover {\n      background-color: ",";\n      color: #ffffff;\n    }\n    & + button {\n      margin-left: 10px;\n    }\n  }\n"]);return mt=function(){return e},e}function bt(){var e=Object(L.a)(["\n  padding: 10px 0;\n  border-bottom: 1px solid ",";\n"]);return bt=function(){return e},e}function ht(){var e=Object(L.a)(["\n  pointer-events: none;\n  user-select: none;\n"]);return ht=function(){return e},e}function vt(){var e=Object(L.a)(["\n  display: flex;\n  font-size: 14px;\n  padding: 2px 5px;\n  min-height: 25px;\n  border-bottom: 1px solid ",";\n  word-break: break-all;\n  overflow: hidden;\n"]);return vt=function(){return e},e}function ft(){var e=Object(L.a)(["\n  margin-bottom: 10px;\n  align-items: center;\n"]);return ft=function(){return e},e}function gt(){var e=Object(L.a)(["\n  display: flex;\n  background-color: #fff;\n  flex-direction: column;\n  cursor: move;\n  border-radius: 4px;\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n  border: 1px solid ",";\n\n  canvas {\n    width: 100%;\n    height: 100%;\n  }\n"]);return gt=function(){return e},e}function Ot(){var e=Object(L.a)(["\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  background-color: ",";\n  margin-right: 10px;\n  border-radius: 4px;\n"]);return Ot=function(){return e},e}function yt(){var e=Object(L.a)(["\n  margin-top: 8px;\n  margin-left: 24px;\n"]);return yt=function(){return e},e}function Et(){var e=Object(L.a)(["\n  overflow-y: auto;\n"]);return Et=function(){return e},e}function jt(){var e=Object(L.a)(["\n  cursor: pointer;\n  background-color: transparent;\n  border: 0;\n  color: inherit;\n  text-decoration: underline;\n  font-size: inherit;\n  font-family: inherit;\n  &:hover {\n    text-decoration: none;\n  }\n"]);return jt=function(){return e},e}Object(A.b)(me)(jt());var zt,kt=Object(A.b)(je)(Et()),xt=A.b.div(yt()),Vt=A.b.img(Ot(),"#f6f6f6"),Ct=A.b.div(gt(),"#dddddd"),Tt=Object(A.b)(fe)(ft()),wt=A.b.div(vt(),"#dddddd"),St=(A.b.div(ht()),A.b.div(bt(),"#f6f6f6")),Nt=A.b.div(mt(),"#f6f6f6","#888888","#dc1d30"),It=Object(A.b)(me)(dt(),function(e){return e.collapsed&&Object(A.a)(pt())}),Rt={container:function(e){return Object(s.a)({},e,{fontSize:"16px",width:"250px"})},control:function(e){return Object(s.a)({},e,{border:"1px solid #dddddd"})}},Pt=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rosParams,n=e.selectedViz,a=e.selectViz,i=e.topics,r=e.vizDetails,c=v.a.get(n,"topicName"),s=v.a.get(n,"vizType")===C.lb;return r.type===C.lb?o.a.createElement("div",null,o.a.createElement(ot,null,o.a.createElement(Vt,{src:r.icon,alt:""}),r.type),o.a.createElement(lt,{type:"button",selected:s},o.a.createElement(ut.a,{isSearchable:!0,className:"reactSelect",styles:Rt,value:c&&s?{label:c,value:c}:"",options:v.a.map(t,function(e){return{label:e,value:e}}),onChange:function(e){var t=e.value;a(r.type,t,"")}}))):o.a.createElement("div",null,o.a.createElement(ot,null,o.a.createElement(Vt,{src:r.icon,alt:""}),r.type),v.a.map(i,function(e){return o.a.createElement(lt,{type:"button",key:e.name,selected:v.a.get(n,"topicName")===e.name,onClick:function(){return a(r.type,e.name,e.messageType)}},e.name)}),0===v.a.size(i)&&o.a.createElement(tt,null,"No topics available for the visualization type"))}}]),t}(o.a.PureComponent),Lt=n(79),At=n.n(Lt),Mt=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.vizType,t=v.a.find(I,function(t){return t.type===e}),n=t.description,a=t.docsLink,i=t.type;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,i),o.a.createElement(At.a,{source:n}),o.a.createElement(he,{href:a},"View docs"))}}]),t}(o.a.PureComponent),_t=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={selectedViz:""},n.selectViz=n.selectViz.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"selectViz",value:function(e,t,n){this.setState({selectedViz:{vizType:e,topicName:t,messageType:n}})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.selectViz,n=this.state.selectedViz,a=n.messageType,i=n.topicName;t(n.vizType,i,a)}},{key:"render",value:function(){var e=this,t=this.state.selectedViz,n=this.props,a=n.closeModal,i=n.rosParams,r=n.rosTopics;return o.a.createElement(ct,{onSubmit:this.onSubmit},o.a.createElement(at,null,o.a.createElement(it,null,v.a.map(I,function(n){return o.a.createElement(Pt,{selectViz:e.selectViz,selectedViz:t,rosParams:i,key:n.type,vizDetails:n,topics:v.a.filter(r,function(e){return v.a.includes(n.messageTypes,e.messageType)})})})),o.a.createElement(rt,null,t?o.a.createElement(Mt,{vizType:t.vizType}):o.a.createElement("p",null,"No visualization selected.",o.a.createElement("br",null),"Please choose a visualization on the left to see details"))),o.a.createElement(et,null,o.a.createElement(Oe,null),o.a.createElement(xe,{type:"submit",disabled:!t},"Proceed"),o.a.createElement(xe,{type:"button",onClick:a},"Close")))}}]),t}(o.a.PureComponent),Dt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={selectedViz:""},n.selectViz=n.selectViz.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"selectViz",value:function(e,t,n){this.setState({selectedViz:{vizType:e,topicName:t,messageType:n}})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.selectViz,n=this.state.selectedViz,a=n.messageType,i=n.topicName;t(n.vizType,i,a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeModal,a=t.rosTopics,i=this.state.selectedViz;return o.a.createElement(ct,{onSubmit:this.onSubmit},o.a.createElement(at,null,o.a.createElement(it,null,v.a.map(v.a.sortBy(a,"name"),function(t){var n=t.name,a=t.messageType,r=v.a.find(I,function(e){return v.a.includes(e.messageTypes,a)});return r?o.a.createElement(st,{type:"button",selected:v.a.get(i,"topicName")===n,key:n,onClick:function(){return e.selectViz(r.type,n,a)}},n,o.a.createElement(Oe,null),"(",a,")"):o.a.createElement(nt,{key:n},n,o.a.createElement(Oe,null),"(Unsupported type: ",a,")")}))),o.a.createElement(et,null,o.a.createElement(Oe,null),o.a.createElement(xe,{type:"submit",disabled:!i},"Proceed"),o.a.createElement(xe,{type:"button",onClick:n},"Close")))}}]),t}(o.a.Component),Ft={loading:0,loaded:1,error:2},Bt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={name:e.selectedViz.vizType,packages:{},status:Ft.loading},n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n.getPackages=n.getPackages.bind(Object(m.a)(n)),n.updateName=n.updateName.bind(Object(m.a)(n)),n.updatePackage=n.updatePackage.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getPackages()}},{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"getPackages",value:function(){var e=this,t=this.props,n=t.ros,a=t.selectedViz.topicName;try{new x.a.RobotModel(n,a).getPackages(function(t){e.setState({packages:v.a.mapValues(v.a.keyBy(t),function(e){return"/".concat(e)}),status:Ft.loaded})})}catch(i){this.setState({status:Ft.error})}}},{key:"updatePackage",value:function(e){var t=e.target,n=t.dataset.id,a=t.value,i=this.state.packages;this.setState({packages:Object(s.a)({},i,Object(V.a)({},n,a))})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.addVisualization,a=t.selectedViz,i=this.state,r=i.name,o=i.packages;n(Object(s.a)({},a,{name:r,packages:o}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.packages,i=t.status,r=this.props.back;return i===Ft.loading?o.a.createElement(be,null,"Loading list of packages..."):i===Ft.error?o.a.createElement(be,null,"Error occured while fetching packages. Please"," ",o.a.createElement(me,{onClick:this.getPackages},"try again")):o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(Ve,null,o.a.createElement(Ce,null,"Visualization name"),o.a.createElement(we,{value:n,onChange:this.updateName})),o.a.createElement(ot,null,"Packages"),v.a.map(a,function(t,n){return o.a.createElement(Ve,{key:n},o.a.createElement(Ce,null,n),o.a.createElement(we,{"data-id":n,value:t,onChange:e.updatePackage,required:!0}))}),o.a.createElement(et,null,o.a.createElement(Oe,null),o.a.createElement(xe,{type:"submit"},"Add Robot model"),o.a.createElement(xe,{type:"button",onClick:r},"Back")))}}]),t}(o.a.Component),Gt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={name:e.selectedViz.vizType},n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n.updateName=n.updateName.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.addVisualization,a=t.selectedViz,i=this.state.name;n(Object(s.a)({},a,{name:i,visible:!0}))}},{key:"render",value:function(){var e=this.state.name,t=this.props.back;return o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(Ve,null,o.a.createElement(Ce,null,"Visualization name"),o.a.createElement(we,{value:e,onChange:this.updateName})),o.a.createElement(et,null,o.a.createElement(Oe,null),o.a.createElement(xe,{type:"submit"},"Add visualization"),o.a.createElement(xe,{type:"button",onClick:t},"Back")))}}]),t}(o.a.Component),Ht=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addVisualization,n=e.back,a=e.ros,i=e.selectedViz.vizType,r=e.selectedViz;return i===C.lb?o.a.createElement(Bt,{addVisualization:t,ros:a,selectedViz:r,back:n}):o.a.createElement(Gt,{addVisualization:t,selectedViz:r,back:n})}}]),t}(o.a.PureComponent),Ut=function(e){return e.stopPropagation()},Wt={vizType:"Visualization type",topicName:"Topic name"},Zt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={tabType:Wt.vizType,selectedViz:""},n.updateTab=n.updateTab.bind(Object(m.a)(n)),n.selectViz=n.selectViz.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"updateTab",value:function(e){this.setState({tabType:e})}},{key:"selectViz",value:function(e,t,n){this.setState({selectedViz:e?{vizType:e,topicName:t,messageType:n}:""})}},{key:"render",value:function(){var e=this,t=this.props,n=t.addVisualization,a=t.closeModal,i=t.ros,r=t.rosParams,c=t.rosTopics,s=this.state,l=s.selectedViz,u=s.tabType;return o.a.createElement(Qe,{onClick:a},o.a.createElement(Ye,{onClick:Ut},o.a.createElement($e,null,"Add Visualization"),l?o.a.createElement(Ht,{addVisualization:n,selectedViz:l,ros:i,back:function(){return e.selectViz(null)}}):o.a.createElement(o.a.Fragment,null,o.a.createElement(ze,null,v.a.map(Wt,function(t){return o.a.createElement(ke,{key:t,type:"button",selected:u===t,onClick:function(){return e.updateTab(t)}},t)})),u===Wt.vizType?o.a.createElement(_t,{selectViz:this.selectViz,rosTopics:c,rosParams:r,closeModal:a}):o.a.createElement(Dt,{selectViz:this.selectViz,rosTopics:c,closeModal:a}))))}}]),t}(o.a.Component),Jt=function(e){var t=e.label,n=e.children;return o.a.createElement(Ie,null,o.a.createElement(Ne,null,t,":"),o.a.createElement(Ne,null,n))},Xt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateOptions=n.updateOptions.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"updateOptions",value:function(e){var t=this.props.updateGlobalOptions,n=e.target;t(n.dataset.id,n.value)}},{key:"render",value:function(){var e=this.props,t=e.framesList,n=e.globalOptions,a=n.backgroundColor,i=a.display,r=a.value,c=n.display,s=n.fixedFrame,l=s.display,u=s.value,p=n.grid,d=p.display,m=p.size;return c?o.a.createElement(je,null,i&&o.a.createElement(Jt,{label:"Background Color"},o.a.createElement(we,{type:"color","data-id":"backgroundColor.value",value:r,onChange:this.updateOptions})),d&&o.a.createElement(Jt,{label:"Grid size"},m),l&&o.a.createElement(Jt,{label:"Fixed frame"},o.a.createElement(Se,{value:u,"data-id":"fixedFrame.value",onChange:this.updateOptions},v.a.map(t,function(e){return o.a.createElement("option",{key:e,value:e},e)})))):null}}]),t}(o.a.PureComponent),qt=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.status;return o.a.createElement(Le,{status:e})}}]),t}(o.a.PureComponent),Kt=function(){return o.a.createElement("svg",{viewBox:"0 0 1870.38 418.16",style:{fill:"#000"}},o.a.createElement("polygon",{points:"159.8 241.17 231.44 365.27 303.09 241.17 159.8 241.17"}),o.a.createElement("polygon",{points:"54.32 58.49 98.6 135.18 364.28 135.18 320 58.49 54.32 58.49"}),o.a.createElement("polygon",{points:"480.2 182.67 408.56 58.58 336.91 182.67 480.2 182.67"}),o.a.createElement("polygon",{points:"585.68 365.35 541.4 288.66 275.72 288.66 320 365.35 585.68 365.35"}),o.a.createElement("path",{d:"M885.76,59.56c6,0,7.57,3.79,5.68,9.08L797.19,312.4h83.27c3.79,0,6.06,1.89,6.06,6.05v37.48c0,3.78-2.27,6.05-6.06,6.43H733.22c-6.05,0-7.94-3.78-5.67-9.08L821.79,109.9H743.44c-3.78,0-6.05-2.27-6.05-6.06V66c0-4.16,2.27-6,6.05-6.43Z"}),o.a.createElement("path",{d:"M1065.92,103.46c0,3.79-1.51,6.44-6.05,6.44H965.24v75.7h72.29c3.79,0,6.06,2.27,6.06,6.43v37.48c0,4.16-2.27,6.43-6.06,6.43H965.24V312.4h94.63c4.54,0,6.05,1.89,6.05,6.05v37.86c0,3.78-1.51,6.05-6.05,6.05H920.58c-3.41,0-5.68-2.27-5.68-6.05V65.62c0-3.79,2.27-6.06,5.68-6.06h139.29c4.54,0,6.05,2.27,6.05,6.06Z"}),o.a.createElement("path",{d:"M1241.54,59.56c4.17,0,6.06,2.27,6.06,6.06v37.84c0,3.79-1.89,6.06-6.06,6.06h-43.9V356.31c0,4.16-1.89,6.05-6.06,6.05h-39.36c-3.79,0-6.06-1.89-6.06-6.05V109.52h-43.91c-3.78,0-6.06-2.27-6.06-6.06V65.62c0-3.79,2.28-6.06,6.06-6.06Z"}),o.a.createElement("path",{d:"M1377.8,65.62c0-3.79,2.27-6.06,6-6.06h39c4.54,0,6.43,2.27,6.43,6.06V356.31c0,3.78-1.89,6.05-6.43,6.05h-39c-3.78,0-6-2.27-6-6.05V235.94h-48.45V356.31c0,3.78-2.27,6.05-6.06,6.05h-39c-4.55,0-6.44-2.27-6.44-6.05V65.62c0-3.79,1.89-6.06,6.44-6.06h39c3.79,0,6.06,2.27,6.06,6.06V186h48.45Z"}),o.a.createElement("path",{d:"M1611,59.56a7.59,7.59,0,0,1,7.57,7.57V307.86c0,35.57-18.92,54.5-54.5,54.5h-42.39c-35.58,0-54.51-18.93-54.51-54.5V67.13a7.6,7.6,0,0,1,7.57-7.57H1511a7.6,7.6,0,0,1,7.57,7.57V297.26c0,10.22,5.3,15.14,15.14,15.14h19.68c9.84,0,15.14-4.92,15.14-15.14V67.13a7.6,7.6,0,0,1,7.57-7.57Z"}),o.a.createElement("path",{d:"M1753.27,59.56c35.58,0,54.5,18.92,54.5,54.5v40.12c0,3.79-1.89,6.06-6,6.06h-39.37c-3.78,0-6-2.27-6-6.06V124.66c0-9.84-4.92-15.14-15.15-15.14H1723c-9.46,0-15.14,5.3-15.14,15.14v52.23l90.08,29.53c6.44,2.65,9.84,6.81,9.84,14v87.44c0,35.57-18.92,54.5-54.5,54.5h-42.39c-35.2,0-54.51-18.93-54.51-54.5V268.11c0-4.16,2.27-6.05,6.06-6.05h39.36c4.17,0,6.06,1.89,6.06,6.05v29.15c0,10.22,5.68,15.14,15.14,15.14h18.16c9.85,0,15.15-4.92,15.15-15.14V246.92l-89.71-29.53c-6.81-2.27-10.22-6.81-10.22-14V114.06c0-35.58,19.31-54.5,54.51-54.5Z"}))},Qt=n(20),Yt=function(e){var t=e.options,n=t.autocomputeIntensityBounds,a=t.channelName,i=t.maxColor,r=t.maxIntensity,c=t.minColor,s=t.minIntensity,l=t.useRainbow,u=e.updateOptions;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Channel Name"},o.a.createElement(Se,{name:"channelName","data-id":"channelName",onChange:u,value:a},v.a.map(C.C,function(e){return o.a.createElement("option",{key:e,value:e},e)}))),!l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Min Color"},o.a.createElement(we,{name:"minColor",type:"color","data-id":"minColor",value:c,onChange:u})),o.a.createElement(Jt,{label:"Max Color"},o.a.createElement(we,{name:"maxColor",type:"color","data-id":"maxColor",value:i,onChange:u}))),!n&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Min Intensity"},o.a.createElement(we,{type:"number",name:"minIntensity","data-id":"minIntensity",value:s,onChange:u})),o.a.createElement(Jt,{label:"Max Intensity"},o.a.createElement(we,{type:"number",name:"maxIntensity","data-id":"maxIntensity",value:r,onChange:u}))))},$t=function(e){var t=e.options,n=t.autocomputeValueBounds,a=t.axis,i=t.maxAxisValue,r=t.minAxisValue,c=e.updateOptions;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Axis"},o.a.createElement(Se,{name:"axis","data-id":"axis",onChange:c,value:a},v.a.map(C.a,function(e){return o.a.createElement("option",{key:e,value:e},e)}))),!n&&o.a.createElement(Re,null,o.a.createElement(Jt,{label:"Min Value"},o.a.createElement(we,{type:"number",name:"minAxisValue","data-id":"minAxisValue",value:r,onChange:c})),o.a.createElement(Jt,{label:"Max Value"},o.a.createElement(we,{type:"number",name:"maxAxisValue","data-id":"maxAxisValue",value:i,onChange:c}))))},en=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=t.colorTransformer,a=t.flatColor,i=e.options,r=e.updateOptions;switch(n){case C.b.INTENSITY:return o.a.createElement(Yt,{options:i,updateOptions:r});case C.b.AXIS_COLOR:return o.a.createElement($t,{options:i,updateOptions:r});case C.b.FLAT_COLOR:return o.a.createElement(Jt,{label:"Flat Color"},o.a.createElement(we,{type:"color",name:"flatColor","data-id":"flatColor",value:a,onChange:r}));default:return null}}}]),t}(o.a.PureComponent),tn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateOptions=P.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.options,t=Object(s.a)({},C.o,e),n=t.alpha,a=t.colorTransformer,i=t.size,r=t.style;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Style"},o.a.createElement(Se,{name:"style","data-id":"style",onChange:this.updateOptions,value:r},v.a.map(C.D,function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement(Jt,{label:"Size"},o.a.createElement(we,{type:"number",name:"size","data-id":"size",value:i,onChange:this.updateOptions})),o.a.createElement(Jt,{label:"Alpha"},o.a.createElement(we,{type:"number",name:"alpha","data-id":"alpha",value:n,onChange:this.updateOptions})),o.a.createElement(Jt,{label:"Color Transformer"},o.a.createElement(Se,{name:"colorTransformer","data-id":"colorTransformer",onChange:this.updateOptions,value:a},v.a.map(C.b,function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement(en,{options:t,updateOptions:this.updateOptions}))}}]),t}(o.a.PureComponent),nn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateOptions=P.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.options,t=Object(s.a)({},C.p,e),n=t.alpha,a=t.colorScheme,i=t.drawBehind;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Alpha"},o.a.createElement(we,{type:"number",name:"alpha","data-id":"alpha",value:n,onChange:this.updateOptions})),o.a.createElement(Jt,{label:"Color Scheme"},o.a.createElement(Se,{name:"colorScheme","data-id":"colorScheme",onChange:this.updateOptions,value:a},v.a.map(C.E,function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement(Jt,{label:"Draw Behind"},o.a.createElement(we,{type:"checkbox",name:"drawBehind","data-id":"drawBehind",value:i,onChange:this.updateOptions})))}}]),t}(o.a.Component),an=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateNamespaceVisibility=n.updateNamespaceVisibility.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"updateNamespaceVisibility",value:function(e){var t=this.props,n=t.options,a=n.key,i=n.namespaces,r=t.updateVizOptions,o=e.target,c=o.checked,l=o.dataset.id;r(a,{namespaces:Object(s.a)({},i,Object(V.a)({},l,c))})}},{key:"render",value:function(){var e=this,t=this.props.options,n=Object(s.a)({},C.q,t).namespaces;return 0===v.a.size(v.a.compact(v.a.keys(n)))?null:o.a.createElement(o.a.Fragment,null,"Namespaces:",o.a.createElement(Re,null,v.a.map(n,function(t,n){return n?o.a.createElement(Jt,{label:n},o.a.createElement(we,{name:n,type:"checkbox","data-id":"key",checked:t,onChange:e.updateNamespaceVisibility})):null})))}}]),t}(o.a.PureComponent),rn=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.updateOptions,a=Object(s.a)({},C.k,t),i=a.alpha,r=a.color,c=a.headLength,l=a.headRadius,u=a.shaftLength,p=a.shaftRadius;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Color"},o.a.createElement(we,{name:"color",type:"color",value:r,"data-id":"color",onChange:n})),o.a.createElement(Jt,{label:"Alpha"},o.a.createElement(we,{name:"alpha",type:"number",value:i,"data-id":"alpha",onChange:n})),o.a.createElement(Jt,{label:"Shaft Length"},o.a.createElement(we,{name:"shaftLength",type:"number",value:u,"data-id":"shaftLength",onChange:n})),o.a.createElement(Jt,{label:"Shaft Radius"},o.a.createElement(we,{name:"shaftRadius",type:"number",value:p,"data-id":"shaftRadius",onChange:n})),o.a.createElement(Jt,{label:"Head Length"},o.a.createElement(we,{name:"headLength",type:"number",value:c,"data-id":"headLength",onChange:n})),o.a.createElement(Jt,{label:"Head Radius"},o.a.createElement(we,{name:"headRadius",type:"number",value:l,"data-id":"headRadius",onChange:n})))}}]),t}(o.a.PureComponent),on=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.updateOptions,a=Object(s.a)({},C.m,t),i=a.alpha,r=a.arrowLength,c=a.color;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Color"},o.a.createElement(we,{name:"color",type:"color",value:c,"data-id":"color",onChange:n})),o.a.createElement(Jt,{label:"Alpha"},o.a.createElement(we,{name:"alpha",type:"number",value:i,"data-id":"alpha",onChange:n})),o.a.createElement(Jt,{label:"Arrow length"},o.a.createElement(we,{name:"arrowLength",type:"number","data-id":"arrowLength",value:r,onChange:n})))}}]),t}(o.a.PureComponent),cn=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.updateOptions,a=Object(s.a)({},C.l,t),i=a.axesLength,r=a.axesRadius;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Axes Length"},o.a.createElement(we,{name:"axesLength",type:"number","data-id":"axesLength",value:i,onChange:n})),o.a.createElement(Jt,{label:"Axes Radius"},o.a.createElement(we,{name:"axesRadius",type:"number","data-id":"axesRadius",value:r,onChange:n})))}}]),t}(o.a.PureComponent),sn=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.options.type,a=e.updateOptions;switch(n){case C.V:return o.a.createElement(rn,{updateOptions:a,options:t});case C.X:return o.a.createElement(on,{updateOptions:a,options:t});case C.W:return o.a.createElement(cn,{updateOptions:a,options:t});default:return null}}}]),t}(o.a.PureComponent),ln=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateOptions=P.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.options,t=Object(s.a)({},C.s,e),n=t.angleTolerance,a=t.keep,i=t.positionTolerance,r=t.type;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Position Tolerance"},o.a.createElement(we,{name:"positionTolerance",type:"number",value:i,"data-id":"positionTolerance",onChange:this.updateOptions})),o.a.createElement(Jt,{label:"Angle Tolerance"},o.a.createElement(we,{name:"angleTolerance",type:"number","data-id":"angleTolerance",value:n,onChange:this.updateOptions})),o.a.createElement(Jt,{label:"Keep"},o.a.createElement(we,{name:"keep",type:"number","data-id":"keep",value:a,onChange:this.updateOptions})),o.a.createElement(Jt,{label:"Shape"},o.a.createElement(Se,{name:"type","data-id":"type",onChange:this.updateOptions,value:r},v.a.map([C.V,C.W],function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement(Re,null,o.a.createElement(sn,{options:t,updateOptions:this.updateOptions})))}}]),t}(o.a.PureComponent),un=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateOptions=P.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.options,t=Object(s.a)({},C.t,e),n=t.alpha,a=t.color;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Color"},o.a.createElement(we,{type:"color",name:"color","data-id":"color",value:a,onChange:this.updateOptions})),o.a.createElement(Jt,{label:"Alpha"},o.a.createElement(we,{type:"number",name:"alpha","data-id":"alpha",value:n,onChange:this.updateOptions})))}}]),t}(o.a.PureComponent),pn=(zt={},Object(V.a)(zt,C.jb,[C.V,C.W]),Object(V.a)(zt,C.kb,[C.V,C.W,C.X]),zt),dn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateOptions=P.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.options,t=Object(s.a)({},C.w,e),n=t.type,a=t.vizType;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Jt,{label:"Shape"},o.a.createElement(Se,{name:"type","data-id":"type",onChange:this.updateOptions,value:n},v.a.map(pn[a],function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement(Re,null,o.a.createElement(sn,{options:t,updateOptions:this.updateOptions})))}}]),t}(o.a.PureComponent),mn=function(e){var t=e.options.vizType,n=e.options,a=e.updateVizOptions;switch(t){case C.ab:return null;case C.bb:return o.a.createElement(tn,{options:n,updateVizOptions:a});case C.cb:return o.a.createElement(nn,{options:n,updateVizOptions:a});case C.db:return o.a.createElement(an,{options:n,updateVizOptions:a});case C.eb:return null;case C.fb:return o.a.createElement(ln,{options:n,updateVizOptions:a});case C.gb:return o.a.createElement(un,{options:n,updateVizOptions:a});case C.hb:case C.ib:return null;case C.jb:return o.a.createElement(dn,{options:n,updateVizOptions:a});case C.kb:case C.lb:case C.mb:default:return null}},bn=function(e){var t=e.options,n=t.display,a=t.key,i=t.name,c=t.topicName,s=t.visible,l=t.vizType,u=e.options,p=e.topics,d=e.vizObject.icon,m=e.updateVizOptions,b=e.removeVisualization,h=e.toggleVisibility,f=Object(r.useState)(!1),g=Object(Qt.a)(f,2),O=g[0],y=g[1];return v.a.isBoolean(n)&&!n?null:o.a.createElement(St,null,o.a.createElement(Ie,null,o.a.createElement(It,{collapsed:O,onClick:function(){return y(!O)}},o.a.createElement("img",{src:"./image/chevron.svg",alt:""})),o.a.createElement(Vt,{src:d,alt:""}),i),!O&&o.a.createElement(xt,null,!v.a.includes([C.lb,C.mb],l)&&o.a.createElement(Jt,{label:"Topic"},o.a.createElement(Se,{value:c,onChange:function(e){return m(a,{topicName:e.target.value})}},v.a.map(p,function(e){return o.a.createElement("option",{key:e.name},e.name)}))),o.a.createElement(mn,{options:u,updateVizOptions:m}),o.a.createElement(Nt,null,o.a.createElement(me,{"data-id":a,onClick:b},"Delete"),o.a.createElement(me,{"data-id":a,onClick:h},v.a.isBoolean(s)&&!s?"Show":"Hide"))))},hn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={rosInput:e.rosEndpoint},n.updateRosInput=n.updateRosInput.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"updateRosInput",value:function(e){this.setState({rosInput:e.target.value})}},{key:"onSubmit",value:function(e){var t=this.props.updateRosEndpoint,n=this.state.rosInput;e.preventDefault(),t(n)}},{key:"render",value:function(){var e=this.props,t=e.framesList,n=e.visualizations,a=e.removeVisualization,i=e.rosInstance,r=e.rosStatus,c=e.rosTopics,s=e.globalOptions,l=e.toggleVisibility,u=e.updateGlobalOptions,p=e.updateVizOptions,d=e.viewer,m=e.toggleAddModal,b=this.state.rosInput;return o.a.createElement(Ae,null,o.a.createElement(Me,null,o.a.createElement(Kt,null)),o.a.createElement(ve,null),o.a.createElement(je,null,o.a.createElement(Tt,null,o.a.createElement(qt,{status:r}),o.a.createElement("span",null,r)),o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement(Ce,null,"ROS Endpoint"),o.a.createElement(fe,null,o.a.createElement(we,{type:"text",value:b,onChange:this.updateRosInput}),o.a.createElement(ge,null),o.a.createElement(xe,{type:"submit"},r===T.CONNECTED?"Disconnect":"Connect")))),o.a.createElement(ve,null),r===T.CONNECTED&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Xt,{framesList:t,globalOptions:s,updateGlobalOptions:u}),o.a.createElement(ve,null),o.a.createElement(kt,null,o.a.createElement(xe,{type:"button",onClick:m},"Add Visualization"),0===v.a.size(n)&&o.a.createElement("p",null,"No visualizations added to the scene"),v.a.map(n,function(e){var t=v.a.find(I,function(t){return t.type===e.vizType});if(!t)return null;var n=v.a.filter(c,function(e){return v.a.includes(t.messageTypes,e.messageType)});return o.a.createElement(bn,{options:e,key:e.key,viewer:d,topics:n,vizObject:t,rosInstance:i,updateVizOptions:p,removeVisualization:a,toggleVisibility:l})}))))}}]),t}(o.a.Component);function vn(){var e=Object(L.a)(["\n  width: 100%;\n  flex-grow: 1;\n  height: 100%;\n  position: relative;\n\n  #viewportStats {\n    position: absolute !important;\n    top: auto !important;\n    left: auto !important;\n    right: 0 !important;\n    bottom: 0 !important;\n  }\n"]);return vn=function(){return e},e}var fn=A.b.div(vn()),gn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).container=o.a.createRef(),n.updateViewerOptions=n.updateViewerOptions.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.updateViewerOptions()}},{key:"updateViewerOptions",value:function(){var e=this.props,t=e.globalOptions,n=t.backgroundColor.value,a=t.fixedFrame.value,i=t.grid,r=i.centerlineColor,o=i.color,c=i.divisions,s=i.size;e.viewer.updateOptions({backgroundColor:n,gridSize:s,gridDivisions:c,gridColor:o,gridCenterlineColor:r,selectedFrame:a})}},{key:"componentDidMount",value:function(){var e=this.props.viewer,t=this.container.current;e.setContainer(t),this.updateViewerOptions(),e.scene.stats.dom.id="viewportStats",t.appendChild(e.scene.stats.dom)}},{key:"componentWillUnmount",value:function(){this.props.viewer.destroy()}},{key:"render",value:function(){return o.a.createElement(fn,{ref:this.container})}}]),t}(o.a.PureComponent),On=function(){return null},yn=function(){},En=n(80),jn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).vizInstance=null,n.imageDomRef=o.a.createRef(),n.resetVisualization=n.resetVisualization.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.resetVisualization()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,a=n.topicName,i=n.visible,r=n.vizType,o=t.options,c=t.rosTopics;if(r!==e.options.vizType&&this.resetVisualization(),r===C.mb){var s=N(c),l=N(e.rosTopics);v.a.join(v.a.sortBy(v.a.map(s,"name")))!==v.a.join(v.a.sortBy(v.a.map(l,"name")))&&this.vizInstance.changeTopic(s)}else a!==e.options.topicName&&this.vizInstance.changeTopic&&this.vizInstance.changeTopic(a);this.vizInstance&&this.vizInstance.updateOptions(o),i!==e.options.visible&&this.updateVisibility(i)}},{key:"resetVisualization",value:function(){var e=this.props,n=e.options,a=e.options,i=a.topicName,r=a.visible,o=a.vizType,c=e.rosInstance,s=e.rosTopics,l=e.viewer;this.vizInstance&&this.vizInstance.destroy(),this.vizInstance=t.getNewViz(o,c,o===C.mb?N(s):i,n),this.vizInstance&&(o===C.lb?l.addRobot(this.vizInstance):o===C.ab?(this.imageDomRef.current.appendChild(this.vizInstance.object),this.vizInstance.subscribe()):(l.addVisualization(this.vizInstance),this.vizInstance.subscribe()),this.updateVisibility(!v.a.isBoolean(r)||r))}},{key:"updateVisibility",value:function(e){e?this.vizInstance.show():this.vizInstance.hide()}},{key:"componentWillUnmount",value:function(){this.vizInstance&&this.vizInstance.destroy()}},{key:"render",value:function(){var e=this,t=this.props.options,n=t.topicName,a=t.visible;return t.vizType===C.ab?o.a.createElement(En.a,{style:{visibility:a?"visible":"hidden"},default:{x:window.innerWidth-320-30,y:30,width:320,height:265},bounds:"window",onResizeStop:function(t,n,a){e.vizInstance.updateDimensions(Number.parseInt(a.style.width,10),Number.parseInt(a.style.height,10)-25)}},o.a.createElement(Ct,{ref:this.imageDomRef},o.a.createElement(wt,null,"Image - ",n))):null}}],[{key:"getNewViz",value:function(e,t,n,a){switch(e){case C.ab:return new x.a.Image(t,n,a);case C.bb:return new x.a.LaserScan(t,n,a);case C.cb:return new x.a.Map(t,n,a);case C.db:return new x.a.Marker(t,n,a);case C.eb:return new x.a.MarkerArray(t,n,a);case C.fb:return new x.a.Odometry(t,n,a);case C.gb:return new x.a.Path(t,n,a);case C.hb:return new x.a.PointCloud(t,n,a);case C.jb:return new x.a.Pose(t,n,a);case C.kb:return new x.a.PoseArray(t,n,a);case C.lb:return new x.a.RobotModel(t,n,a);case C.mb:return new x.a.Tf(t,n,a);default:return null}}}]),t}(o.a.PureComponent),zn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={rosEndpoint:"",rosStatus:T.INITIAL,addModalOpen:!1,rosTopics:[],rosParams:[],framesList:[]},n.connectRos=n.connectRos.bind(Object(m.a)(n)),n.disconnectRos=n.disconnectRos.bind(Object(m.a)(n)),n.toggleAddModal=n.toggleAddModal.bind(Object(m.a)(n)),n.refreshRosData=n.refreshRosData.bind(Object(m.a)(n)),n.addVisualization=n.addVisualization.bind(Object(m.a)(n)),n.updateFramesList=n.updateFramesList.bind(Object(m.a)(n)),n.ros=new k.a.Ros,n.viewer=new x.a.TfViewer(n.ros,{onFramesListUpdate:n.updateFramesList}),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.state.rosEndpoint;t.rosEndpoint!==n&&(this.disconnectRos(),this.connectRos())}},{key:"componentDidMount",value:function(){var e=this,t=this.state.rosEndpoint;this.ros.on("error",function(){e.setState({rosStatus:T.CONNECTION_ERROR})}),this.ros.on("connection",this.refreshRosData),this.ros.on("close",function(){e.setState({rosStatus:T.INITIAL})}),t&&this.connectRos()}},{key:"updateFramesList",value:function(e){this.setState({framesList:Object(c.a)(e)})}},{key:"refreshRosData",value:function(){var e=this;this.ros.getTopics(function(t){e.setState({rosStatus:T.CONNECTED,rosTopics:v.a.map(t.topics,function(e,n){return{name:e,messageType:t.types[n]}})})}),this.ros.getParams(function(t){e.setState({rosParams:v.a.map(t,function(e){return v.a.trimStart(e,"/")})})})}},{key:"componentWillUnmount",value:function(){this.viewer.destroy()}},{key:"connectRos",value:function(){var e=this.state.rosEndpoint;this.setState({rosStatus:T.CONNECTING}),this.ros.connect(e)}},{key:"disconnectRos",value:function(){this.ros&&this.ros.isConnected&&this.ros.close()}},{key:"toggleAddModal",value:function(){var e=this.state.addModalOpen;this.setState({addModalOpen:!e})}},{key:"addVisualization",value:function(e){var t=this.props.addVisualization;t(e),this.setState({addModalOpen:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.addModalOpen,a=t.framesList,i=t.rosEndpoint,r=t.rosParams,c=t.rosStatus,s=t.rosTopics,l=this.props,u=l.configuration,p=u.globalOptions,d=u.panels,m=d.info.display,b=d.sidebar.display,h=d.tools.display,f=u.visualizations,g=l.removeVisualization,O=l.toggleVisibility,y=l.updateGlobalOptions,E=l.updateRosEndpoint,j=l.updateVizOptions;return o.a.createElement(ye,null,n&&o.a.createElement(Zt,{ros:this.ros,rosTopics:s,rosParams:r,closeModal:this.toggleAddModal,addVisualization:this.addVisualization}),b&&o.a.createElement(hn,{framesList:a,globalOptions:p,updateGlobalOptions:y,rosEndpoint:i,rosStatus:c,visualizations:f,viewer:this.viewer,rosTopics:s,rosInstance:this.ros,updateVizOptions:j,updateRosEndpoint:E,toggleAddModal:this.toggleAddModal,removeVisualization:g,update:!0,toggleVisibility:O}),o.a.createElement(Ee,null,h&&o.a.createElement(yn,null),o.a.createElement(gn,{viewer:this.viewer,globalOptions:p}),m&&o.a.createElement(On,null)),v.a.map(f,function(t){return o.a.createElement(jn,{options:t,key:t.key,viewer:e.viewer,rosTopics:s,rosInstance:e.ros})}))}}],[{key:"getDerivedStateFromProps",value:function(e){return{rosEndpoint:e.configuration.ros.endpoint}}}]),t}(o.a.Component);zn.defaultProps={configuration:R};var kn=y()(zn),xn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state=Object(s.a)({},e.configuration||j.a.get("zethus_config")||R),n.updateVizOptions=n.updateVizOptions.bind(Object(m.a)(n)),n.updateRosEndpoint=n.updateRosEndpoint.bind(Object(m.a)(n)),n.updateGlobalOptions=n.updateGlobalOptions.bind(Object(m.a)(n)),n.addVisualization=n.addVisualization.bind(Object(m.a)(n)),n.removeVisualization=n.removeVisualization.bind(Object(m.a)(n)),n.toggleVisibility=n.toggleVisibility.bind(Object(m.a)(n)),n}return Object(b.a)(t,e),Object(u.a)(t,[{key:"updateVizOptions",value:function(e,t){var n=this.state.visualizations;this.setState({visualizations:v.a.map(n,function(n){return n.key===e?Object(s.a)({},n,t):n})})}},{key:"updateRosEndpoint",value:function(e){var t=this.state.ros;this.setState({ros:Object(s.a)({},t,{endpoint:e})})}},{key:"componentWillUnmount",value:function(){j.a.set("zethus_config",this.state)}},{key:"updateGlobalOptions",value:function(e,t){var n=this.state.globalOptions,a=v.a.cloneDeep(n);v.a.set(a,e,t),this.setState({globalOptions:a})}},{key:"removeVisualization",value:function(e){var t=e.target.dataset.id,n=this.state.visualizations;this.setState({visualizations:v.a.filter(n,function(e){return e.key!==t})})}},{key:"toggleVisibility",value:function(e){var t=e.target.dataset.id,n=this.state.visualizations;this.setState({visualizations:v.a.map(n,function(e){return e.key===t?Object(s.a)({},e,{visible:!(!v.a.isBoolean(e.visible)||e.visible)}):e})})}},{key:"addVisualization",value:function(e){var t=this.state.visualizations;this.setState({visualizations:[].concat(Object(c.a)(t),[Object(s.a)({},e,{key:g.a.generate()})])})}},{key:"render",value:function(){return o.a.createElement(kn,{configuration:this.state,addVisualization:this.addVisualization,removeVisualization:this.removeVisualization,toggleVisibility:this.toggleVisibility,updateVizOptions:this.updateVizOptions,updateRosEndpoint:this.updateRosEndpoint,updateGlobalOptions:this.updateGlobalOptions})}}]),t}(o.a.Component),Vn=y()(xn);n(211);i.a.render(o.a.createElement(Vn,null),document.getElementById("root"))},84:function(e,t,n){e.exports=n(212)}},[[84,1,2]]]);
//# sourceMappingURL=main.9b0e751b.chunk.js.map